<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ユーザー登録</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<script>
// すでにログインしているなら index へ
if (localStorage.getItem("username")) {
    window.location.href = "index.html";
}
</script>

<div class="container">
    <h1>新規ユーザー登録</h1>

    <p>掲示板で使う名前を登録してください。</p>

    <input id="regName" type="text" placeholder="名前を入力" class="input"><br><br>

    <button onclick="registerUser()" class="btn">登録</button>
    
    <p style="margin-top:20px;">
        登録済みの人は <a href="login.html">ログインはこちら</a>
    </p>
</div>

<script>
async function registerUser() {
    const name = document.getElementById("regName").value.trim();

    if (!name) {
        alert("名前を入力してください");
        return;
    }

    // ← 必要であれば Supabase にユーザー保存も可能（任意）
    // 今回はブラウザ保存だけでOK
    localStorage.setItem("username", name);

    alert("登録完了！");

    window.location.href = "index.html";
}
</script>

</body>
</html>
